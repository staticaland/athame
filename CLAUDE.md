# Dagger Development Guidelines

## Import Path

Always import Dagger from:
```go
import "dagger/athame/internal/dagger"
```

## Generated Files - Do Not Edit

These files are auto-generated by Dagger and should never be manually edited:

- `dagger.gen.go`
- `internal/` directory

## Function Parameters

Use Dagger annotations for parameter handling:

- `+default="value"` - for parameters with default values
- `+optional` - for parameters that can be omitted

### Required Patterns

- **Use annotations exclusively** - let Dagger handle defaults, not your function body
- **Trust the framework** - write functions assuming defaults are already applied
- **Document well** - add descriptive comments for optional parameters
- **Stay consistent** - use the same defaults across similar functions (e.g., `region` defaults to `"eu-west-1"`)

### Forbidden Patterns

- **No manual checks** - don't use `if param == ""` for parameters with `+default` annotations
- **No defensive logic** - avoid conditional logic for optional parameters unless your business logic requires it
- **No mixing approaches** - don't combine annotations with manual default handling

## Example

```go
// Deploy runs the deployment process
// +optional
func (m *MyModule) Deploy(
    // +default="eu-west-1"
    region string,
    // +optional
    dryRun bool,
) error {
    // Function body assumes defaults are already applied
    // No need for: if region == "" { region = "eu-west-1" }
}
```
